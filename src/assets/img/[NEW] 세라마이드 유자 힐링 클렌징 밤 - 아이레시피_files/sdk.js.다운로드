var kakaoCheckout=function(e){"use strict";var t=function(){return(t=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function n(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}function o(e,t,n,o){return new(n||(n=Promise))((function(r,i){function s(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))}function r(e,t){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function i(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s}var s,a="1.1.7",c=Number("4000")||4e3,u=a;!function(e){e[e["285x88"]=0]="285x88",e[e["210x83"]=1]="210x83",e[e["236x88"]=2]="236x88",e[e["124x115"]=3]="124x115",e[e["290x95M"]=4]="290x95M",e[e["310x100M"]=5]="310x100M"}(s||(s={}));var l="prod",d="https://pay.kakao.com";if(!["local","dev","sandbox","cbt","prod","dev-testbox","testbox"].includes(l))throw new Error("PHASE 설정이 잘못되었습니다.");if(isNaN(c))throw new Error("타임아웃 시간값 설정이 잘못되었습니다.");var p={ignoreCache:!1,headers:{Accept:"application/json, text/javascript, text/plain"},timeout:5e3};function h(e,t){void 0===t&&(t={});var n=function(e){return void 0===e&&(e={}),Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}(t);return n?e+(-1===e.indexOf("?")?"?":"&")+n:e}function f(e,t,n,o){void 0===n&&(n=null),void 0===o&&(o=p);var r=o.ignoreCache||p.ignoreCache,i=o.headers||p.headers,s=o.timeout||p.timeout;return new Promise((function(o,a){var c=new XMLHttpRequest;c.open(e,h(t,"get"===e&&n?n:{})),i&&Object.keys(i).forEach((function(e){return c.setRequestHeader(e,i[e])})),r&&c.setRequestHeader("Cache-Control","no-cache"),c.timeout=s,c.onload=function(){return o(function(e){return{ok:e.status>=200&&e.status<300,status:e.status,statusText:e.statusText,headers:e.getAllResponseHeaders(),data:e.responseText,json:function(){return JSON.parse(e.responseText||"{}")}}}(c))},c.onerror=function(){return a(new Error("Failed to make request."))},c.ontimeout=function(){return a(new Error("Request took longer than expected."))},"post"===e&&n?(c.setRequestHeader("Content-Type","application/json"),c.send(JSON.stringify(n))):c.send()}))}var m,v=function(){return null},w=function(e,t,n){e.addEventListener(t,n)},y=function(e){return document.querySelector('#checkoutContainer[data-id="'+e+'"]')};!function(e){e.EXPOSE="EXPOSE",e.HIDE="HIDE",e.DIMMED="DIMMED"}(m||(m={}));var b=function(e){var t=e.authKey,n=e.shopProductId;return o(void 0,void 0,void 0,(function(){var e,o,s,a,c,u;return r(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e={result:{promotions:[],status:"EXPOSE",channelPublicId:""}},[4,f("get","https://api.pay.kakao.com/product/seller/v1/product/button",n?{shopProductId:n}:{},{headers:{"checkout-auth-key":t}})];case 1:return o=r.sent(),s=200===o.status,e.result=o.json(),a=function(e){void 0===e&&(e="");try{return e.replace(/^\?/,"").split("&").reduce((function(e,t){var n=i(t.split("=",2),2),o=n[0],r=n[1];return o&&r&&(e[o]=decodeURIComponent(unescape(r))),e}),{})}catch(e){return{}}}(location.search),c=a.KCD_VISIBLE,[2,{enable:!!a.KCD_ENABLE||s&&e.result.status!==m.DIMMED,visible:!!c||s&&e.result.status!==m.HIDE,promotionText:"클릭시 100% 할인쿠폰 제공!",promotions:e.result.promotions,channelPublicId:e.result.channelPublicId,config:{}}];case 2:return u=r.sent(),console.error(u),[3,3];case 3:return[2,null]}}))}))},_="99999",k=["android","ios","windows","mac","unknown"],g=["tablet","desktop","mobile"],x=["story","talk","facebook","daum","naver","twitter","band","storychannel","unknown"],E=new RegExp("x","g");function S(e,t,n){if(e===t)return 0;var o=String(e).split("."),r=String(t).split(".");n&&(o=o.splice(0,1),r=r.splice(0,1));for(var i=Math.max(o.length,r.length),s=0;s<i;s+=1){var a=parseInt(o[s],10)||0,c=parseInt(r[s],10)||0;if(a>c)return 1;if(a<c)return-1}return 0}function A(e,t,n){var o,r,s=t.split("~");if(!s.length)throw new Error("범위 문자를 한 개만 사용해 주세요.");if(1===s.length){var a=i(s,1)[0];if(!a.includes("x"))return 0===S(e,a,n);s=[o=i(a.split("."),1)[0],r=o+"."+_]}if(2===s.length){if(!s[0]&&!s[1])throw new Error("범위 문자는 버전과 조합해서 사용해야 합니다.");return o=s[0]||"0",r=s[1]||_,o=o.replace(E,"0"),r=r.replace(E,_),S(e,o,n)>=0&&S(e,r,n)<=0}throw new Error("범위 문자 안에 ~ 가 여러 개일 수 없습니다.")}function I(e,t,n){if(new RegExp("[^,~0-9.x]+").test(String(t)))throw new Error("숫자, 마침표(.), 콤마(,), 틸드(~)만 허용됩니다.");for(var o=t.toString().replace(/\s+/g,"").split(","),r=0;r<o.length;r+=1){var i=o[r];if(!i)throw new Error("빈 조건이 있습니다.");var s=A(e,i,n);if(s)return s}return!1}var O=function(){function e(e,t,n){var o;this.screen=n,this.os={name:"",version:"",is:{}},this.type={name:"",is:{}},this.vendor={name:"",is:{}},this.browser={name:"",version:"",is:{}},this.app={name:"",version:"",is:{}},this.support={retina:!1};var r,s=function(e){if(!e&&"undefined"==typeof window)return null;var t=e||window.screen,n=document.documentElement||document.body;if(t&&t.width&&t.height){var o=window.devicePixelRatio||1,r=Math.min(t.width,t.height),i=Math.max(t.width,t.height),s=n.clientWidth,a=n.clientHeight,c=!1;if(c="number"==typeof window.orientation?-90===window.orientation||90===window.orientation:s>a){var u=s;s=a,a=u}return(0===s||s===Math.round(r/o)||0===a||a===Math.round(i/o)||320===s&&240===a)&&(r/=o,i/=o),{isLandscape:c,width:Math.round(r),height:Math.round(i),pixelDepth:t.pixelDepth||0}}return{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,pixelDepth:0,isLandscape:!0}}(this.screen);if(this.userAgent=e,this.support.retina=function(){if("undefined"==typeof window)return!1;var e=1.5;return window.devicePixelRatio&&window.devicePixelRatio>=e}(),/iemobile/i.test(e)?(this.setOs("unknown"),this.setBrowser("ie"),this.setType("mobile")):/android/i.test(e)?(r=/android (\d+(\.\d+)?(\.\d+)?)/i.exec(e),this.setOs("android"),this.setBrowser("android"),r&&r[1]&&this.setOsVersion(r[1]),/mobile/i.test(e)?this.setType("mobile"):this.setType("tablet"),/GT-|SCH-|SHV-|SHW-|SPH|SWT-|SGH-|EK-|Galaxy Nexus|SAMSUNG/.test(e)?this.setVendor("samsung"):e.includes("LG-")?this.setVendor("lg"):e.includes("IM-")?this.setVendor("pantech"):this.setVendor("unknown")):/(iphone|ipad|ipod)/i.test(e)?(this.setOs("ios"),this.setVendor("apple"),(r=/(\d+_\d+)/i.exec(e))&&r[1]&&this.setOsVersion(r[1].replace(/_/,".")),/ipad/i.test(e)?this.setType("tablet"):this.setType("mobile")):!function(e){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4))}(e)?/(OS X)/i.test(e)?(this.setOs("mac"),this.setType("desktop"),(r=/Mac OS X (\d+[_.]\d+)/.exec(e))&&r[1]&&this.setOsVersion(r[1].replace(/_/,"."))):/(win32|win64)/i.test(t)?(this.setOs("windows"),this.setType("desktop"),(r=/Windows NT (\d+.\d+)/.exec(e))&&this.setOsVersion(r[1])):(this.setOs("unknown"),this.setType("desktop")):(this.setOs("unknown"),this.setType("mobile")),/MSIE|Trident|iemobile/i.test(e)&&(this.setBrowser("ie"),(r=/MSIE (\d+[.]\d+)/.exec(e))&&this.setBrowserVersion(r[1]),(r=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(e))&&this.setBrowserVersion(r[1]),(r=/iemobile[ /]?([\d.]*)/i.exec(e))&&this.setBrowserVersion(r[1]),this.type.is.desktop&&this.isIeVersion("7")&&/Trident/i.test(e)&&this.setBrowserVersion("8.0")),this.browser.is.ie||(/edge/i.test(e)?(this.setBrowser("edge"),(r=/edge\/(\d+[.]\d+)/i.exec(e))&&this.setBrowserVersion(r[1])):/firefox/i.test(e)?(this.setBrowser("firefox"),(r=/firefox\/(\d+[.]\d+)/i.exec(e))&&this.setBrowserVersion(r[1])):/chrome/i.test(e)?(this.setBrowser("chrome"),(r=/Chrome\/([\d.]+)/.exec(e))&&this.setBrowserVersion(r[1])):!this.os.is.android&&/safari/i.test(e)&&this.setBrowser("safari")),this.type.is.tablet&&(null==s?void 0:s.width)<768&&this.setType("mobile"),e.includes("KAKAOTALK")){if(this.setApp("talk"),(r=/KAKAOTALK (\d+\.\d+(\.\d+)?)/.exec(e))&&this.setAppVersion(r[1]),this.os.is.android){var a=i(null===(o=new RegExp(/KAKAOTALK (\*|\d+(\.\d+){0,2}(\.\*)?)/).exec(e))||void 0===o?void 0:o[0].split("KAKAOTALK "),2)[1].trim().slice(2),c=i(/(\d{2})(\d{1})(\d{2})$/.exec(a),4),u=c[1],l=c[2],d=c[3];this.setAppVersion(Number(u)+"."+l+"."+Number(d))}}else e.includes("KAKAOSTORY")?this.setApp("story"):e.includes("DaumApps")?this.setApp("daum"):e.includes("NAVER")?this.setApp("naver"):/(FBIOS|FB_IAB)/.test(e)?this.setApp("facebook"):e.includes("Twitter")?this.setApp("twitter"):e.includes("BAND")?this.setApp("band"):e.includes("KAKAOCHANNEL")&&this.setApp("storychannel")}return e.get=function(){return this.agent?this.agent:this.update()},e.update=function(t){var n="undefined"!=typeof window,o=t||(n?navigator.userAgent||navigator.vendor:""),r=n?navigator.platform:"",i=n?window.screen:null;return this.agent=new e(o,r,i),this.agent},e.prototype.isIeVersion=function(e){return!!this.browser.is.ie&&I(this.browser.version,e,!0)},e.prototype.isOsVersion=function(e){return I(this.os.version,e)},e.prototype.isIosVersion=function(e){return!!this.os.is.ios&&I(this.os.version,e)},e.prototype.isAppVersion=function(e){return!this.app.is.unknown&&I(this.app.version,e)},e.prototype.isInApp=function(){return!this.app.is.unknown},e.prototype.setOs=function(e){this.os.is=k.reduce((function(n,o){var r;return t(t({},n),((r={})[o]=o===e,r))}),{}),this.os.name=e},e.prototype.setOsVersion=function(e){this.os.version=e},e.prototype.setType=function(e){this.type.is=g.reduce((function(n,o){var r;return t(t({},n),((r={})[o]=o===e,r))}),{}),this.type.name=e},e.prototype.setVendor=function(e){this.vendor.is=g.reduce((function(n,o){var r;return t(t({},n),((r={})[o]=o===e,r))}),{}),this.vendor.name=e},e.prototype.setBrowser=function(e){this.browser.is=g.reduce((function(n,o){var r;return t(t({},n),((r={})[o]=o===e,r))}),{}),this.browser.name=e},e.prototype.setApp=function(e){this.app.is=x.reduce((function(n,o){var r;return t(t({},n),((r={})[o]=o===e,r))}),{}),this.app.name=e},e.prototype.setAppVersion=function(e){this.app.version=e},e.prototype.setBrowserVersion=function(e){this.browser.version=e},e}().get(),T=1300,P=1500,C=["firefox","opera"];function B(){alert("지원하지 않는 환경입니다.")}function M(e){var t,n,o,r="function"==typeof e.willInvokeApp?e.willInvokeApp:v,i="function"==typeof e.onAppMissing?e.onAppMissing:"string"==typeof(t=e.storeURL)?function(){window.top.location.href=t}:function(){alert("앱이 설치되지 않았습니다. \n 앱을 설치해주세요")},s="function"==typeof e.onUnsupportedEnvironment?e.onUnsupportedEnvironment:B;r(),n=O.os.is.android&&O.os.version,o=O.os.version&&parseFloat(O.os.version)>=5,n&&o?function(e,t,n,o){K()&&e&&!n?D(e):function(e,t){H(L(T,t)),function(){return!K()}()?V(e):D(e)}(t,o)}(e.intentURI,e.urlScheme,e.useUrlScheme,i):function(){var e=O.os.is.ios,t=O.os.version&&parseFloat(O.os.version)>=8;return e&&t}()?function(e,t,n){if(H(L(P,n)),function(){return O.os.version&&parseFloat(O.os.version)>=9}()){D(e||t)}else V(t)}(e.universalLink,e.urlScheme,i):s()}function K(){var e=O.browser.is.chrome,t=O.browser.version&&parseFloat(O.browser.version)>=25,n=new RegExp(C.join("|"),"i");return e&&t&&!n.test(O.userAgent)}function D(e){window.top.location.href=e}function L(e,t){var n=(new Date).getTime();return setTimeout((function(){var e=(new Date).getTime();N()&&e-n<2e3&&t()}),e)}function N(){var e=document;return void 0!==e.hidden?!e.hidden:void 0!==e.msHidden?!e.msHidden:void 0===e.webkitHidden||!e.webkitHidden}function H(e){document.addEventListener("visibilitychange",(function t(){N()||(clearTimeout(e),document.removeEventListener("visibilitychange",t))}))}function V(e){(function(){var e=document.createElement("iframe");return e.style.border="none",e.style.width="0",e.style.height="0",e.style.display="none",e.style.overflow="hidden",document.body.appendChild(e),e}()).src=e}var j,R=function(e,t){var n=void 0===t?{prod:"kakaotalk",dev:"alphatalk"}:t,o=n.prod,r=n.dev,i=["cbt","prod","testbox"].includes(l),s=O.os.is.android||i?o:r||o;M({urlScheme:s+"://"+e,intentURI:"intent://"+e+"#Intent;scheme="+s+";package=com.kakao.talk;end",onAppMissing:v})};!function(e){e.CLICK_BUY="버튼SDK_클릭_구매",e.CLICK_WISH="버튼SDK_클릭_찜",e.CLICK_ADD_CHANNEL="버튼SDK_클릭_채널추가",e.BUTTON_LOAD="버튼SDK_로드",e.FAIL_BUY="버튼SDK_구매_실패",e.FAIL_WISH="버튼SDK_찜_실패",e.FAIL_ADD_CHANNEL="버튼SDK_채널추가_실패",e.SUCCESS_BUY="버튼SDK_구매_성공"}(j||(j={}));var U=function(e){try{var n=location.hostname,o=void 0===n?"":n,r=TiaraTracker.getInstance();r.setSvcDomain("pay.kakao.com").setPage("버튼SDK").trackEvent(e.eventName);var i=t({shopping_mall_url:o},null==e?void 0:e.customProps);e.clickProps&&r.click(e.clickProps),r.customProps(i).track()}catch(e){console.error(e)}},W=function(e,t){var n=t.channelPublicId,o=y(e).querySelector("button.__checkout_btn_channel");if(o){var r=["dev-testbox","testbox"].includes(l),i=window.top.location.href;w(o,"click",(function(){var e=O.type.is.mobile?O.app.is.talk?"talk":"mo":"pc",t=d+"/button/login?continue="+encodeURIComponent("/button/channel/"+n+"?from="+("3rdmall-"+e+"-"+n)+"&return="+i),o=!O.type.is.mobile&&function(e){var t=e.name,n=e.width,o=e.height;return window.open("about:blank","kakao-checkout-"+t,"width="+n+", height="+o+", scrollbars=yes, resizable=1")}({name:"addChannel",width:400,height:601});o?(o.location.href=t,o.focus()):O.app.is.talk&&!r?R("checkout/open?url="+encodeURIComponent(t)):window.top.location.href=t,U({eventName:j.CLICK_ADD_CHANNEL})}))}},q=function(e){return e*(2-e)};var F,z=function(e,t){var n=y(e).querySelector("div.__checkout_buy_notice");if(t&&n){var o=n.querySelector("ul"),r=n.querySelectorAll("li"),i=0;o.appendChild(r[0].cloneNode(!0)),setInterval((function(){return function(e,t,n,o,r){void 0===r&&(r=q);var i=Date.now(),s=e||(document.documentElement.scrollTop?document.documentElement:document.body),a=s.scrollTop;a!==t?requestAnimationFrame((function e(){var c=Date.now(),u=Math.min(1,(c-i)/n),l=r(u);s.scrollTop=l*(t-a)+a,u<1?requestAnimationFrame(e):"function"==typeof o&&o()})):"function"==typeof o&&o()}(o,26*i,300,(function(){i===t?(o.scrollTop=0,i=1):i+=1}))}),5e3)}},Y=function(e,t){var n=["dev-testbox","testbox"].includes(l),i=y(e).querySelector("button.__checkout_btn_buy");if(i){var s=window.location.href,a=null,c=function(){var e=!O.type.is.mobile&&function(e){var t=e.name,n=e.width,o=e.height;return window.open("about:blank","kakao-checkout-"+t,"width="+n+", height="+o+", scrollbars=yes, resizable=1")}({name:"touch",width:400,height:601});a=setTimeout((function(){alert("타임아웃이 발생했습니다. 관리자에게 문의해 주세요."),o()}),8e3);var o=function(t){var n;clearTimeout(a),t&&alert("주문서 생성에 실패했습니다.\n"+t.message),e?e.close():window.top.location.href=s,U({eventName:j.FAIL_BUY,customProps:{error_message:null!==(n=null==t?void 0:t.message)&&void 0!==n?n:""}})};return{onSuccess:function(o){if(clearTimeout(a),!o)return alert('"orderSheetId"가 올바르지 않습니다.'),e&&e.close(),void U({eventName:j.FAIL_BUY,customProps:{error_message:'"orderSheetId"가 올바르지 않습니다.'}});var r=!t.shopProductId,i=O.type.is.mobile?O.app.is.talk?"talk":"mo":"pc",c=n?d+"/popup/order?orderSheetId="+o:d+"/button/order/"+o+"?from="+("order-"+i+"-"+(r?"cart":"product"))+"&return="+encodeURIComponent(s);e?(e.location.href=c,e.focus()):window.top.location.href=c,U({eventName:j.SUCCESS_BUY})},onFailure:o}};w(i,"click",(function(){return o(void 0,void 0,void 0,(function(){var e,n,o,i,s;return r(this,(function(r){switch(r.label){case 0:if(t.usePayOrder&&"function"!=typeof t.onPayOrder)throw new Error("`onPayOrder` 함수가 정의되지 않았습니다.");if(!t.usePayOrder&&"function"!=typeof t.onOrder)throw new Error("`onOrder` 함수가 정의되지 않았습니다.");r.label=1;case 1:return r.trys.push([1,3,,4]),t.isLogin&&t.usePayOrder?[2,t.onPayOrder()]:[4,t.onOrder()];case 2:return e=r.sent(),["string","object","function"].includes(typeof e)&&(n=c(),o=n.onSuccess,i=n.onFailure,"string"==typeof e?o(e):"object"==typeof e?i(e):"function"==typeof e&&e(o,i)),[3,4];case 3:return s=r.sent(),clearTimeout(a),alert("스크립트 오류가 발생했습니다.\n"+s.message),[3,4];case 4:return[2]}}))}))}))}},G=function(e,t){var n=t.authKey,o=t.shopProductId,r=t.showWishButton,i=t.onWish,s=y(e).querySelector("button.__checkout_btn_wish");if(r&&s){var a=["dev-testbox","testbox"].includes(l),c=window.top.location.href;w(s,"click",(function(){var e=O.type.is.mobile?O.app.is.talk?"talk":"mo":"pc",t=a?d+"/popup/favorite?authKey="+n+"&shopProductId="+o:d+"/button/login?continue="+encodeURIComponent("/button/favorite/"+n+"/"+o+"?from="+("favorite-"+e)+"&return="+c),r=!O.type.is.mobile&&function(e){var t=e.name,n=e.width,o=e.height;return window.open("about:blank","kakao-checkout-"+t,"width="+n+", height="+o+", scrollbars=yes, resizable=1")}({name:"favorite",width:400,height:601});r?(r.location.href=t,r.focus()):O.app.is.talk&&!a?R("checkout/open?url="+encodeURIComponent(t)):window.top.location.href=t,"function"==typeof i&&i(null),U({eventName:j.CLICK_WISH})}))}},X=function(e){var t=e.id,n=e.type,o=e.promotions,r=e.disabled,i=e.useWishButton,a=e.useAddChannelButton,c=e.isMobileMode,u=e.isSnackMode;return'\n  <div id="checkoutContainer" data-id="'+t+'" class="'+function(e,t,n,o,r,i){var a=window.matchMedia("(prefers-color-scheme: dark)"),c=s[e],u="__checkout_sdk_container "+((r?a.matches:i)?"__checkout_sdk_darkmode":"")+" "+(t?"":"__checkout_buy_only")+" "+(n?"__checkout_buy_channel":""),l=O.os.is.android?"__checkout_sdk_aos":"";if(r)return"__checkout_buy_snackmode "+u+" "+l;if(c&&o){var d=c-3;return"__checkout_buy_mobile "+u+" "+(d?"__checkout_buy_type"+d:"")+" "+(n?"__checkout_buy_channel":"")+" "+l}return"__checkout_buy_container "+u+" "+(c?"__checkout_buy_s"+c:"")}(n,i,a,c,u,e.isDarkMode)+'">\n    <div class="__checkout_buy_contents">\n      \n  <strong class="__checkout_buy_title" style="text-align: left;">\n    <span class="__checkout_img_comm __checkout_img_slogan">카카오 톡체크아웃</span>\n  </strong>\n\n      '+function(e){return'\n  <button type="button" class="__checkout_btn_comm __checkout_btn_buy" '+(e?"disabled":"")+'>\n    <span class="__checkout_img_comm __checkout_img_buy">\n      간편구매\n    </span>\n  </button>\n'}(r)+"\n      "+(a?'\n  <div class="__checkout_wrap_btn_channel">\n    <button type="button" class="__checkout_btn_comm __checkout_btn_channel">\n      <span class="__checkout_img_comm __checkout_img_channel">채널 추가</span>\n    </button>\n    <span class="__checkout_img_comm __checkout_img_channel_tooltip">혜택알림</span>\n  </div>\n':"")+"\n      "+(i?'\n  <button type="button" class="__checkout_btn_comm __checkout_btn_wish">\n    <span class="__checkout_img_comm __checkout_img_wish">찜</span>\n  </button>\n':"")+"\n    </div>\n    "+(!u&&o.length?function(e){return'\n  <div class="__checkout_buy_notice">\n    <ul class="__checkout_list_notice">\n      '+e.map((function(e){return'\n        <li class="on">\n          <a\n            href="'+e.landingLink+'"\n            title="'+e.title+'"\n            class="__checkout_link_notice"\n            target="_blank" rel="noreferrer"\n          >\n            <span class="__checkout_txt_notice">\n              '+(e.subType?'<em class="__checkout_emph_category">['+e.subType+"]</em>":"")+"\n              "+e.title+'\n            </span>\n            <span class="__checkout_img_comm __checkout_img_more">더보기</span>\n          </a>\n        </li>\n      '})).join("")+"\n    </ul>\n  </div>\n"}(o):"")+"\n  </div>\n"},J=function(e,t){void 0===t&&(t=[]);var n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),o=e.buttonType,r=e.usePayOrder&&(!e.authKey||e.isLogin),i=!1!==e.snackMode&&O.type.is.mobile&&O.app.is.talk&&!r,s=["285x88","290x95M","310x100M"].includes(e.buttonType)&&e.showWishButton,a=X({id:n,type:o,promotions:t,isSnackMode:i,disabled:!e.enable,isDarkMode:e.darkMode,isMobileMode:o.endsWith("M"),useWishButton:e.showWishButton&&e.enable,useAddChannelButton:s&&e.enable}),c=document.getElementById(e.containerId);if(!c)throw new Error("올바른 `containerId`가 필요합니다.");if(c.innerHTML=a,O.type.is.mobile?c.style.textAlign="center":e.align&&(c.style.textAlign=e.align),i){var u=y(n);if(document.body.style.paddingBottom=u.offsetHeight+"px",O.os.is.ios){var l="viewport-fit=cover",d=document.querySelector("meta[name=viewport]");if(d)d.content.replace(/\s/g,"").includes(l)||d.setAttribute("content",[d.content,l].join(","));else{var p=document.createElement("meta");p.setAttribute("name","viewport"),p.setAttribute("content",l)}}}return U({eventName:j.BUTTON_LOAD,customProps:{button_type:e.buttonType,align:e.align}}),n};e.Align=void 0,(F=e.Align||(e.Align={})).Center="center",F.Left="left",F.Right="right";var $=u,Q=function(e,t){return o(void 0,void 0,void 0,(function(){var n,o;return r(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Promise.allSettled([(s="//t1.daumcdn.net/tiara/js/v1/tiara.min.js",new Promise((function(e,t){var n=setTimeout((function(){return t(new Error("스크립트를 로드할 수 없습니다."))}),c),o=i(document.getElementsByTagName("head"),1)[0],r=document.createElement("script");r.type="text/javascript",r.src=s,r.onerror=function(){clearTimeout(n),t(new Error("스크립트를 로드할 수 없습니다."))},r.readyState?r.onreadystatechange=function(){"loaded"!==r.readyState&&"complete"!==r.readyState||(r.onreadystatechange=null,e(null))}:r.onload=function(){return e(null)},o.appendChild(r)}))),new Promise((function(e,t){var n=setTimeout((function(){return t(new Error("스타일시트를 로드할 수 없습니다."))}),c),o=i(document.getElementsByTagName("head"),1)[0],r=void 0===o?document.body:o,s="https://t1.kakaocdn.net/checkout/pay/_sdk/style.css";if(r.querySelector('link[href="'+s+'"]'))return e(null);var a=document.createElement("link");a.type="text/css",a.rel="stylesheet",a.href=s,r.appendChild(a),a.onload=function(){clearTimeout(n),e(null)},a.onerror=function(){clearTimeout(n),t(new Error("스타일시트를 로드할 수 없습니다."))}}))])];case 1:return r.sent(),[3,3];case 2:return n=r.sent(),console.error(n),[3,3];case 3:return o=J(e,t),Y(o,e),G(o,e),W(o,e),z(o,null==t?void 0:t.length),[2]}var s}))}))};return e.createButton=function(e){return void 0===e&&(e={}),o(void 0,void 0,void 0,(function(){var o,i,s,a,c,u,l;return r(this,(function(r){switch(r.label){case 0:if(o=t({buttonType:"285x88",showWishButton:!0,enable:!0,onWish:v},e),i=o.authKey,s=o.shopProductId,a=n(o,["authKey","shopProductId"]),!i&&!a.usePayOrder)return[2];if(i||!a.usePayOrder)return[3,5];if("function"!=typeof a.onPayOrder)throw new Error("올바른 `onPayOrder`콜백이 필요합니다.");a.isLogin=!0,a.showWishButton=!1,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,Q(a)];case 2:return r.sent(),[3,4];case 3:throw c=r.sent(),new Error(c);case 4:return[2];case 5:if(!i)throw new Error("올바른 `authKey`가 필요합니다.");if("function"!=typeof a.onOrder)throw new Error("올바른 `onOrder`콜백이 필요합니다.");if("function"!=typeof a.onWish)throw new Error("올바른 `onWish`콜백 유형이 올바르지 않습니다.");s||(a.showWishButton=!1),r.label=6;case 6:return r.trys.push([6,9,,10]),[4,b({authKey:i,shopProductId:s})];case 7:if(!(u=r.sent()))throw new Error("버튼이 유효하지 않습니다.");return u.visible?[4,Q(t(t({},a),{authKey:i,shopProductId:s,enable:a.enable&&u.enable,channelPublicId:u.channelPublicId}),u.promotions)]:[2];case 8:return r.sent(),[3,10];case 9:throw l=r.sent(),new Error(l);case 10:return[2]}}))}))},e.createPayButton=function(e){return void 0===e&&(e={}),o(void 0,void 0,void 0,(function(){var o,i;return r(this,(function(r){switch(r.label){case 0:if("function"!=typeof(o=n(t({buttonType:s["285x88"],isLogin:!0,usePayOrder:!0,enable:!0},e),[])).onPayOrder)throw new Error("올바른 `onPayOrder`콜백이 필요합니다.");r.label=1;case 1:return r.trys.push([1,3,,4]),[4,Q(o)];case 2:return r.sent(),[3,4];case 3:throw i=r.sent(),new Error(i);case 4:return[2]}}))}))},e.version=$,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
